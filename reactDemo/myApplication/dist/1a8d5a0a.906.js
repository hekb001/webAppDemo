(self.webpackChunkmyapplication=self.webpackChunkmyapplication||[]).push([[906],{68917:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});n(76226);var r=[{title:"流程名称",dataIndex:"name"},{title:"流程编码",dataIndex:"code"},{title:"发布状态",dataIndex:"is_released",render:function(e){return"1"==e?"已发布":"未发布"},filters:[{text:"已发布",value:"1"},{text:"未发布",value:"0"}]},{title:"创建时间",dataIndex:"created_at"}]},79351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(76226),a=n(391),l=n.n(a),o=(n(27946),["prefixCls","className","radioButtonWarp","extra","bodyStyle","title","loading","bordered"]);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=function(e){var t,n,a=e.prefixCls,d=void 0===a?"j-card":a,u=e.className,m=e.radioButtonWarp,p=e.extra,f=e.bodyStyle,g=e.title,h=e.loading,b=e.bordered,y=void 0===b||b,v=s(e,o),E=e.children,k=l()(d,u,(c(t={},"".concat(d,"-loading"),h),c(t,"".concat(d,"-bordered"),y),t)),w=m||"";return h&&(E=r.createElement("div",null,r.createElement("p",{className:"".concat(d,"-loading-block"),style:{width:"94%"}}),r.createElement("p",null,r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"28%"}}),r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"62%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"22%"}}),r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"66%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"56%"}}),r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"39%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"21%"}}),r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"15%"}}),r.createElement("span",{className:"".concat(d,"-loading-block"),style:{width:"40%"}})))),n=g?"string"===typeof g?r.createElement("div",{className:"".concat(d,"-head")},r.createElement("h3",{className:"".concat(d,"-head-title")},g),p?r.createElement("div",{className:"".concat(d,"-extra")},p):null):r.createElement("div",{className:"".concat(d,"-head")},r.createElement("div",{className:"".concat(d,"-head-title")},g),p?r.createElement("div",{className:"".concat(d,"-extra")},p):null):null,r.createElement("div",i({},v,{className:"".concat(k," mainContent")}),n,r.createElement("div",{className:"".concat(d,"-body ").concat(w),style:f},E))}},67906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(76226),a=n(96189),l=(n(22456),n(79351)),o=n(85758),i=n(18293),c=n(71705),s=n(6249),d=n(3989),u=n(38083),m=n(60269),p=n(68917),f=n(36840),g=n(40131),h=n(49449),b=n(50107),y=n(46044),v=n(81920),E=n(48591);n(55935);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=h.Z.Item;const C=function(e){var t=e.detailsData,n=e.visible,l=w(h.Z.useForm(),1)[0],i=(0,g.k6)(),d=(0,a.v9)((function(e){return e.processDesign.loading}))||!1,u=((0,a.v9)((function(e){return e.processDesign.processList})),(0,a.I0)());(0,r.useEffect)((function(){}),[]);return r.createElement(b.Z,{title:t?"编辑流程":"新建流程",visible:n,width:600,centered:!0,footer:null,onCancel:e.closeModal},r.createElement(y.Z,{spinning:d},r.createElement("div",{className:"event_handling"},r.createElement(h.Z,k({form:l},{labelCol:{span:4},wrapperCol:{span:18}},{name:"create",onFinish:function(n){n.description="1",t&&t.id?(n.id=t.id,(0,m.WP)(n,(function(t){t&&(c.ZP.success("操作成功！"),n.isChecked?i.push("/process-macker/"+t.id):e.closeModal(1))}))(u)):(0,m._m)(n,(function(t){t&&(c.ZP.success("创建成功！"),n.isChecked?i.push("/process-macker/"+t.id):e.closeModal(1))}))(u)},initialValues:{name:(0,f.UC)(t,["name"]),code:(0,f.UC)(t,["code"]),isChecked:!0}}),r.createElement(j,{label:"流程名称",name:"name",rules:[{required:!0,message:(0,f.o4)("common.FormItem.required","必填项")}]},r.createElement(v.Z,null)),r.createElement(j,{label:"流程编码",name:"code",rules:[{required:!0,message:(0,f.o4)("common.FormItem.required","必填项")}]},r.createElement(v.Z,null)),r.createElement(h.Z.Item,{name:"isChecked",valuePropName:"checked",wrapperCol:{offset:4,span:16}},r.createElement(E.Z,null,"添加后自动打开设计")),r.createElement("div",{style:{height:15}}),r.createElement(j,{wrapperCol:{offset:8,span:16}},r.createElement(s.Z,{onClick:e.closeModal},r.createElement(o.Z,{id:"common.cancel",defaultMessage:"取消"})),"   ",r.createElement(s.Z,{type:"primary",htmlType:"submit",loading:d},r.createElement(o.Z,{id:"common.submitBtnText",defaultMessage:"提交"})))))))};function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N={filter:"",page:1,per_page:10,status:""};const I=function(e){var t=(0,a.v9)((function(e){return e.processDesign.pending}))||!1,n=(0,a.v9)((function(e){return e.processDesign.processList}))||[],g=Z((0,r.useState)(!1),2),h=g[0],b=g[1],y=Z((0,r.useState)(),2),v=y[0],E=y[1],k=Z((0,r.useState)(Object.assign({},f.j0,{page:1,total:0,per_page:10})),2),w=k[0],x=k[1],j=(0,a.I0)(),O=function(){(0,m.n4)(N,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||x(Object.assign({},w,{total:e.meta.total}))}))(j)};(0,r.useEffect)((function(){(0,u.y)(e)(j),(0,m.I2)()(j),O()}),[]);var I=p.o.concat({title:r.createElement(o.Z,{id:"common.operation",defaultMessage:"操作"}),width:300,key:"operation",render:function(e,t){return r.createElement("div",null,r.createElement("a",{style:{paddingRight:10},onClick:function(){return _(t)}},"编辑"),r.createElement("a",{style:{paddingRight:10},href:"/process-macker/"+t.id},"设计"),"0"==t.is_released?r.createElement("a",{style:{paddingRight:10},onClick:function(){return S(t)}},"发布"):"",r.createElement("a",{style:{paddingRight:10},onClick:function(){return A(t)}},"复制"),r.createElement(i.Z,{placement:"top",title:"确认删除",onConfirm:function(){return P(t)}},r.createElement("a",function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({href:"javascript:void(0)",style:{paddingRight:10}},"style",{color:"red"}),"删除")))}}),S=function(e){(0,m.DW)({id:e.id},(function(e){e&&(c.ZP.info("操作成功！"),N.page=1,O())}))(j)},A=function(e){(0,m.Ej)({id:e.id},(function(e){e&&(c.ZP.info("操作成功！"),N.page=1,O())}))(j)},P=function(e){(0,m.tA)({id:e.id},(function(e){e&&(c.ZP.info("操作成功！"),N.page=1,O())}))(j)},_=function(e){E(e),b(!0)};return r.createElement(l.Z,null,r.createElement("div",{style:{paddingBottom:10}},r.createElement(s.Z,{type:"primary",onClick:_},"新建流程")),r.createElement(d.Z,{rowKey:"id",columns:I,dataSource:n,loading:t,pagination:w,onChange:function(e,t,n){var r=Object.assign({},e);N.page=e.current,N.per_page=e.per_page,N.status=t&&t.is_released&&t.is_released.join(","),x(r),O()}}),h&&r.createElement(C,{visible:h,closeModal:function(e){1==e&&O(),b(!1)},detailsData:v}))}},14057:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(17330),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".j-card {\n  background: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s;\n  min-height: 100%;\n  min-height: 720px;\n  padding: 16px;\n}\n.j-card:hover {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: transparent;\n}\n.j-card-bordered {\n  border: 1px solid #e9e9e9;\n}\n.j-card-head {\n  height: 48px;\n  line-height: 48px;\n  background: #fff;\n  border-bottom: 1px solid #e9e9e9;\n  margin: 0 24px;\n  overflow: hidden;\n}\n.j-card-head-title {\n  float: left;\n  font-size: 18px;\n  display: inline-block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  letter-spacing: 0.3px;\n}\n.j-card-extra {\n  float: right;\n  display: inline-block;\n  text-align: right;\n  margin-left: auto;\n}\n.j-card-loading .j-card-body {\n  user-select: none;\n}\n.j-card-loading-block {\n  display: inline-block;\n  margin: 5px 1% 0;\n  height: 14px;\n  border-radius: 100%;\n  background: linear-gradient(90deg, rgba(207, 216, 220, 0.2), rgba(207, 216, 220, 0.4), rgba(207, 216, 220, 0.2));\n  animation: card-loading 1.4s ease infinite;\n  background-size: 600% 600%;\n}\n@keyframes card-loading {\n  0%,\n  100% {\n    background-position: 0 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n}\n",""]);const l=a},27946:(e,t,n)=>{var r=n(97930),a=n(14057);"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var l={insert:"head",singleton:!1};r(a,l);e.exports=a.locals||{}}}]);