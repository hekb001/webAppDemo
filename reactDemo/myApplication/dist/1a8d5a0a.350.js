(self.webpackChunkmyapplication=self.webpackChunkmyapplication||[]).push([[350],{79351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(76226),a=n(391),l=n.n(a),i=(n(27946),["prefixCls","className","radioButtonWarp","extra","bodyStyle","title","loading","bordered"]);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const u=function(e){var t,n,a=e.prefixCls,u=void 0===a?"j-card":a,d=e.className,m=e.radioButtonWarp,f=e.extra,p=e.bodyStyle,g=e.title,y=e.loading,b=e.bordered,h=void 0===b||b,v=s(e,i),E=e.children,x=l()(u,d,(c(t={},"".concat(u,"-loading"),y),c(t,"".concat(u,"-bordered"),h),t)),w=m||"";return y&&(E=r.createElement("div",null,r.createElement("p",{className:"".concat(u,"-loading-block"),style:{width:"94%"}}),r.createElement("p",null,r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"28%"}}),r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"62%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"22%"}}),r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"66%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"56%"}}),r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"39%"}})),r.createElement("p",null,r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"21%"}}),r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"15%"}}),r.createElement("span",{className:"".concat(u,"-loading-block"),style:{width:"40%"}})))),n=g?"string"===typeof g?r.createElement("div",{className:"".concat(u,"-head")},r.createElement("h3",{className:"".concat(u,"-head-title")},g),f?r.createElement("div",{className:"".concat(u,"-extra")},f):null):r.createElement("div",{className:"".concat(u,"-head")},r.createElement("div",{className:"".concat(u,"-head-title")},g),f?r.createElement("div",{className:"".concat(u,"-extra")},f):null):null,r.createElement("div",o({},v,{className:"".concat(x," mainContent")}),n,r.createElement("div",{className:"".concat(u,"-body ").concat(w),style:p},E))}},75350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var r=n(76226),a=n(96189),l=n(85758),i=n(40131),o=n(49449),c=n(18293),s=n(3989),u=n(50107),d=n(81920),m=n(6249),f=n(79351),p=n(36840),g=n(75831),y=n.n(g);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=["x","x2"];function E(e,t){return v.indexOf(e)>=0||y().isEmpty(e)?t:null}var x=function(e){var t=b((0,p.MO)(e,["auth"]),2),n=(t[0],t[1]),a=r.createElement(m.Z,n,e.children);return E(e.auth,a)},w=function(e){var t=b((0,p.MO)(e,["auth"]),2),n=(t[0],t[1]),a=r.createElement("div",n,e.children);return E(e.auth,a)},k=n(38083),O=n(38612),j=[{title:"表单名称",dataIndex:"title"},{title:"表单描述",dataIndex:"description"},{title:"发布状态",dataIndex:"is_released",render:function(e){return"1"==e?"已发布":"未发布"},filters:[{text:"已发布",value:"1"},{text:"未发布",value:"0"}]},{dataIndex:"created_at",title:"创建时间"}];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I={filter:"",page:1,per_page:10,status:""},Z="mr-10 primary-color inline cursor",A=o.Z.Item,_={labelCol:{span:4},wrapperCol:{span:12}};const M=function(e){var t=(0,a.I0)(),n=(0,i.k6)(),g=C(o.Z.useForm(),1)[0],b=C((0,r.useState)(!1),2),h=b[0],v=b[1],E=C((0,r.useState)({}),2),S=E[0],M=E[1],F=(0,a.v9)((function(e){return e.formDesign.formDesignList})),P=(0,a.v9)((function(e){return e.formDesign.pending})),q=C((0,r.useState)(Object.assign({},p.j0,{page:1,total:0,per_page:10})),2),D=q[0],T=q[1];(0,r.useEffect)((function(){(0,k.y)(e)(t),U()}),[]);var U=function(){(0,O.mH)(I,(function(e,t){T(Object.assign({},D,{total:e.meta.total}))}))(t)};return r.createElement(f.Z,null,r.createElement("div",{className:"mb-10"},r.createElement(x,{type:"primary",onClick:function(){return v(!0),M({}),void g.setFieldsValue({title:"",description:""})}},"新建表单")),r.createElement(s.Z,{rowKey:"id",loading:P,columns:j.concat([{title:"操作",render:function(e,a){return r.createElement("div",null,r.createElement(w,{onClick:function(){return function(e){v(!0),M(e),g.setFieldsValue({title:e.title,description:e.description})}(a)},className:Z},"编辑"),r.createElement(w,{onClick:function(){return function(e){n.push("/form-design/".concat(e.id))}(a)},className:Z},"设计"),r.createElement(w,{onClick:function(){},className:Z},"复制"),r.createElement(c.Z,{placement:"top",title:"确认删除",onConfirm:function(){return function(e){(0,O.YV)({screens_id:e.id},(function(e,t){t||y().isEmpty(e)||((0,p.OW)(e.msg,!1),U())}))(t)}(a)}},r.createElement(w,{className:Z,style:{color:"red"}},"删除")))}}]),dataSource:F,onChange:function(e,t,n){I.page=e.current,I.per_page=e.per_page,T(I),U()},pagination:D}),h&&r.createElement(u.Z,{visible:h,title:y().isEmpty(S)?"新建表单":"编辑表单",width:600,onCancel:function(){M({}),v(!1)},destroyOnClose:!0,footer:[]},r.createElement(o.Z,N({form:g,name:"formDesignAdd"},_,{onFinish:function(e){var n=y().assign({type:"FORM",config:[]},e);n=y().isEmpty(S)?y().assign(n,{screen_category_id:"1"}):y().assign(n,{screen_category_id:S.id}),(0,O.OM)(n,(function(e,t){t||((0,p.OW)(e.msg,!1),v(!1),U())}))(t)},initialValues:{title:(0,p.UC)(S,["title"]),description:(0,p.UC)(S,["description"])}}),r.createElement(A,{label:"表单名称",name:"title",rules:[{required:!0,message:(0,p.o4)("common.FormItem.required","必填项")}]},r.createElement(d.Z,null)),r.createElement(A,{label:"表单描述",name:"description",rules:[{required:!0,message:(0,p.o4)("common.FormItem.required","必填项")}]},r.createElement(d.Z,null)),r.createElement(A,N({},_,{style:{textAlign:"right"}}),r.createElement(m.Z,{onClick:function(){v(!1),M({})}},r.createElement(l.Z,{id:"common.cancel",defaultMessage:"取消"})),"   ",r.createElement(m.Z,{type:"primary",htmlType:"submit",loading:P},r.createElement(l.Z,{id:"common.submitBtnText",defaultMessage:"提交"}))))))}},14057:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(17330),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".j-card {\n  background: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s;\n  min-height: 100%;\n  min-height: 720px;\n  padding: 16px;\n}\n.j-card:hover {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: transparent;\n}\n.j-card-bordered {\n  border: 1px solid #e9e9e9;\n}\n.j-card-head {\n  height: 48px;\n  line-height: 48px;\n  background: #fff;\n  border-bottom: 1px solid #e9e9e9;\n  margin: 0 24px;\n  overflow: hidden;\n}\n.j-card-head-title {\n  float: left;\n  font-size: 18px;\n  display: inline-block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  letter-spacing: 0.3px;\n}\n.j-card-extra {\n  float: right;\n  display: inline-block;\n  text-align: right;\n  margin-left: auto;\n}\n.j-card-loading .j-card-body {\n  user-select: none;\n}\n.j-card-loading-block {\n  display: inline-block;\n  margin: 5px 1% 0;\n  height: 14px;\n  border-radius: 100%;\n  background: linear-gradient(90deg, rgba(207, 216, 220, 0.2), rgba(207, 216, 220, 0.4), rgba(207, 216, 220, 0.2));\n  animation: card-loading 1.4s ease infinite;\n  background-size: 600% 600%;\n}\n@keyframes card-loading {\n  0%,\n  100% {\n    background-position: 0 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n}\n",""]);const l=a},27946:(e,t,n)=>{var r=n(97930),a=n(14057);"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var l={insert:"head",singleton:!1};r(a,l);e.exports=a.locals||{}}}]);